
<% if not (@current_user && @current_user.valid?) then %>
  <div class="container">
    <%= form_for :user, html: {class: "form-horizontal"} do |f| %>
      <% if !@current_user.nil? && @current_user.errors.any? %>
        <ul>
        <% @current_user.errors.full_messages.each do |msg| %>
          <li class="text-danger"> <%= msg %> </li>
        <% end %>
        </ul>
      <% end %>
      <div class="form-group">
        <%= f.label :name, '姓名: ', class: "col-sm-2 control-label" %>
        <div class="col-sm-10">
          <%= f.text_field :name, class: "form-control", placeholder: "请输入姓名"%>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :username, '用户名: ', class: "col-sm-2 control-label" %>
        <div class="col-sm-10">
          <%= f.text_field :username, class: "form-control", placeholder: "请输入用户名"%>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :password, '密码: ', class: "col-sm-2 control-label" %>
        <div class="col-sm-10">
          <%= password_field :user, :password, class: "form-control", placeholder: "请输入密码"%>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :password, '确认密码: ', class: "col-sm-2 control-label" %>
        <div class="col-sm-10">
          <%= password_field :user, :password_confirmation, class: "form-control", placeholder: "请输入密码"%>
        </div>
      </div>
      <di class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <%= f.submit "注册", class: "btn btn-default"%>
        </div>
      </di>
    <% end %>
  </div>
<% end %>
